#  [[AHOI2005]约数研究](https://www.luogu.com.cn/problem/P1403)

## 题意

>   ## 题目描述
>
>   科学家们在 Samuel 星球上的探险得到了丰富的能源储备，这使得空间站中大型计算机 Samuel II 的长时间运算成为了可能。由于在去年一年的辛苦工作取得了不错的成绩，小联被允许用 Samuel II 进行数学研究。
>
>   小联最近在研究和约数有关的问题，他统计每个正数 N*N* 的约数的个数，并以 f(N)*f*(*N*) 来表示。例如 1212 的约数有 1,2,3,4,6,121,2,3,4,6,12，因此 f(12)=6*f*(12)=6。下表给出了一些 f(N)*f*(*N*) 的取值：
>
>   | N*N*         | 11   | 22   | 33   | 44   | 55   | 66   |
>   | ------------ | ---- | ---- | ---- | ---- | ---- | ---- |
>   | f(N)*f*(*N*) | 11   | 22   | 22   | 33   | 22   | 44   |
>
>   现在请你求出：
>
>   ∑i=1nf(i)*i*=1∑*n**f*(*i*)
>
>   ## 输入格式
>
>   输入一个整数 n*n*。
>
>   ## 输出格式
>
>   输出答案。
>
>   ## 输入输出样例
>
>   **输入 #1**复制
>
>   ```
>   3
>   ```
>
>   **输出 #1**复制
>
>   ```
>   5
>   ```
>
>   ## 说明/提示
>
>   -   对于 20%20% 的数据，N≤5000*N*≤5000；
>   -   对于 100%100% 的数据，1≤N≤1061≤*N*≤106。

## 题解



```c++
#include <bits/stdc++.h>
using namespace std;

// 同样的题意 数据范围更大：https://www.luogu.com.cn/problem/SP26073
//
// 本题当然可以考虑遍历解决：
// [1, n] 中有i的个数是 n/i
// 故所求即 n/1 + n/2 + ... + n/n
// res += n / i 即可
//
// 优化: n/i 相同的连续i  考虑分块
// 再把 n/i = n/j 的连续部分一次性算掉

int main() {
    int n, res;
    cin >> n;
    for (int i = 1, j; i <= n; i = j + 1) {
        // 最后的位值
        j = n / (n / i);
        // 计算结果相同(均为n/i)的有 j-i+1 个
        res += (n / i) * (j - i + 1);
    }
    cout << res << endl;
    return 0;
}
```



```python3

```

