#  [[NOIP2016 提高组] 组合数问题](https://www.luogu.com.cn/problem/P2822)

## 题意

>   ## 题目描述
>
>   组合数 (nm)(*m**n*) 表示的是从 n*n* 个物品中选出 m*m* 个物品的方案数。举个例子，从 (1,2,3)(1,2,3) 三个物品中选择两个物品可以有 (1,2),(1,3),(2,3)(1,2),(1,3),(2,3) 这三种选择方法。根据组合数的定义，我们可以给出计算组合数 (nm)(*m**n*)的一般公式：
>
>   (nm)=n!m!(n−m)!(*m**n*)=*m*!(*n*−*m*)!*n*!
>
>   其中 n!=1×2×⋯×n*n*!=1×2×⋯×*n*；特别地，定义 0!=10!=1。
>
>   小葱想知道如果给定 n,m*n*,*m* 和 k*k*，对于所有的 0≤i≤n,0≤j≤min⁡(i,m)0≤*i*≤*n*,0≤*j*≤min(*i*,*m*) 有多少对 (i,j)(*i*,*j*) 满足 k∣(ij)*k*∣(*j**i*)。
>
>   ## 输入格式
>
>   第一行有两个整数 t,k*t*,*k*，其中 t*t* 代表该测试点总共有多少组测试数据，k*k* 的意义见问题描述。
>
>   接下来 t*t* 行每行两个整数 n,m*n*,*m*，其中 n,m*n*,*m* 的意义见问题描述。
>
>   ## 输出格式
>
>   共 t*t* 行，每行一个整数代表所有的 0≤i≤n,0≤j≤min⁡(i,m)0≤*i*≤*n*,0≤*j*≤min(*i*,*m*) 中有多少对 (i,j)(*i*,*j*) 满足 k∣(ij)*k*∣(*j**i*)。
>
>   ## 输入输出样例
>
>   **输入 #1**复制
>
>   ```
>   1 2
>   3 3
>   ```
>
>   **输出 #1**复制
>
>   ```
>   1
>   ```
>
>   **输入 #2**复制
>
>   ```
>   2 5
>   4 5
>   6 7
>   ```
>
>   **输出 #2**复制
>
>   ```
>   0
>   7
>   ```
>
>   ## 说明/提示
>
>   【样例1说明】
>
>   在所有可能的情况中，只有 (21)=2(12)=2 一种情况是 22 的倍数。
>
>   【子任务】
>
>   ![img](https://cdn.luogu.com.cn/upload/pic/3457.png)
>
>   -   对于全部的测试点，保证 0≤n,m≤2×1030≤*n*,*m*≤2×103，1≤t≤1041≤*t*≤104。

## 题解

**避免数值过大，预处理时 mod k 即可**

为了处理多组数据询问 前缀和

```c++
#include <bits/stdc++.h>
using namespace std;

const int N = 2010;

int c[N][N];
int s[N][N];

int main() {
    int T, k;
    scanf("%d%d", &T, &k);

    for (int i = 0; i < N; i++)
        for (int j = 0; j <= i; j++) {
            if (!j)
                c[i][j] = 1 % k;
            else
                c[i][j] = (c[i - 1][j] + c[i - 1][j - 1]) % k;

            if (!c[i][j])
                s[i][j] = 1;
        }

    for (int i = 0; i < N; i++)
        for (int j = 0; j < N; j++) {
            if (i)
                s[i][j] += s[i - 1][j];
            if (j)
                s[i][j] += s[i][j - 1];
            if (i && j)
                s[i][j] -= s[i - 1][j - 1];
        }

    while (T--) {
        int n, m;
        scanf("%d%d", &n, &m);

        printf("%d\n", s[n][m]);
    }

    return 0;
}
```



```python3

```

